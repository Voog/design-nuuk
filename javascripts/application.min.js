var MMCQ,PriorityQueue;PriorityQueue=function(){function e(e){this.comparator=e,this.contents=[],this.sorted=!1}return e.prototype.sort=function(){return this.contents.sort(this.comparator),this.sotred=!0},e.prototype.push=function(e){return this.contents.push(e),this.sorted=!1},e.prototype.peek=function(e){return null==e&&(e=this.contents.length-1),this.sorted||this.sort(),this.contents[e]},e.prototype.pop=function(){return this.sorted||this.sort(),this.contents.pop()},e.prototype.size=function(){return this.contents.length},e.prototype.map=function(e){return this.contents.map(e)},e}(),MMCQ=function(){var m,r,u,S,g,h;function v(){this.maxIterations=1e3,this.fractByPopulations=.75}return v.rshift=8-(v.sigbits=5),S=function(e,t,o){return(e<<2*v.sigbits)+(t<<v.sigbits)+o},m=function(){function e(e,t,o,n,s,i,r){this.r1=e,this.r2=t,this.g1=o,this.g2=n,this.b1=s,this.b2=i,this.histo=r}return e.prototype.volume=function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},e.prototype.count=function(e){var t,o,n,s,i,r,a,c,l,u,g;if(!this._count_set||e){for(s=0,i=r=this.r1,l=this.r2;r<=l;i=r+=1)for(o=a=this.g1,u=this.g2;a<=u;o=a+=1)for(t=c=this.b1,g=this.b2;c<=g;t=c+=1)n=S(i,o,t),s+=this.histo[n]||0;this._count_set=!0,this._count=s}return this._count},e.prototype.copy=function(){return new e(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},e.prototype.average=function(e){var t,o,n,s,i,r,a,c,l,u,g,h,d,m,p,f;if(!this._average||e){for(a=1<<8-v.sigbits,o=s=l=u=0,c=g=this.r1,m=this.r2;g<=m;c=g+=1)for(n=h=this.g1,p=this.g2;h<=p;n=h+=1)for(t=d=this.b1,f=this.b2;d<=f;t=d+=1)r=S(c,n,t),u+=i=this.histo[r]||0,l+=i*(c+.5)*a,s+=i*(n+.5)*a,o+=i*(t+.5)*a;this._average=u?[~~(l/u),~~(s/u),~~(o/u)]:[~~(a*(this.r1+this.r2+1)/2),~~(a*(this.g1+this.g2+1)/2),~~(a*(this.b1+this.b2+1)/2)]}return this._average},e.prototype.contains=function(e){var t,o,n;return n=e[0]>>v.rshift,o=e[1]>>v.rshift,t=e[2]>>v.rshift,this.r1<=n&&n<=this.r2&&this.g1<=o&&o<=this.g2&&this.b1<=t&&t<=this.b2},e}(),r=function(){function e(){this.cboxes=new PriorityQueue(function(e,t){var o,n;return o=e.count()*e.volume(),(n=t.count()*t.volume())<o?1:o<n?-1:0})}return e.prototype.push=function(e){return this.cboxes.push({cbox:e,color:e.average()})},e.prototype.palette=function(){return this.cboxes.map(function(e){return e.color})},e.prototype.size=function(){return this.cboxes.size()},e.prototype.map=function(e){var t,o,n;for(t=o=0,n=this.cboxes.size();o<n;t=o+=1)return this.cboxes.peek(t).cbox.contains(e)?this.cboxes.peek(t).color:this.nearest(e)},e.prototype.cboxes=function(){return this.cboxes},e.prototype.nearest=function(e){var t,o,n,s,i,r,a;for(i=function(e){return e*e},n=1e9,o=r=0,a=this.cboxes.size();r<a;o=r+=1)(t=Math.sqrt(i(e[0]-this.cboxes.peek(o).color[0])+i(e[1]-this.cboxes.peek(o).color[1])+i(e[2]-this.cboxes.peek(o).color[2])))<n&&(n=t,s=this.cboxes.peek(o).color);return s},e}(),g=function(e){var t,o,n,s,i,r,a,c;for(n=new Array(1<<3*v.sigbits),a=0,c=e.length;a<c;a++)r=(i=e[a])[0]>>v.rshift,o=i[1]>>v.rshift,t=i[2]>>v.rshift,n[s=S(r,o,t)]=(n[s]||0)+1;return n},u=function(e,t){var o,n,s,i,r,a,c,l,u,g,h,d;for(s=a=g=1e6,h=n=r=u=0,d=e.length;h<d;h++)(l=(c=e[h])[0]>>v.rshift)<g?g=l:u<l&&(u=l),(i=c[1]>>v.rshift)<a?a=i:r<i&&(r=i),(o=c[2]>>v.rshift)<s?s=o:n<o&&(n=o);return new m(g,u,a,r,s,n,t)},h=function(e,h){var t,o,n,s,i,d,r,m,a,c,l,p,u,g,f,v,b,C,y,w,_,x,j,k,z,M,P,I,L,D;if(h.count()){if(1===h.count())return[h.copy()];if(c=h.r2-h.r1+1,i=h.g2-h.g1+1,o=h.b2-h.b1+1,r=Math.max(c,i,o),p=0,m=[],d=[],r===c)for(a=u=h.r1,x=h.r2;u<=x;a=u+=1){for(l=0,s=g=h.g1,P=h.g2;g<=P;s=g+=1)for(t=f=h.b1,I=h.b2;f<=I;t=f+=1)l+=e[S(a,s,t)]||0;p+=l,m[a]=p}else if(r===i)for(s=v=h.g1,L=h.g2;v<=L;s=v+=1){for(l=0,a=b=h.r1,D=h.r2;b<=D;a=b+=1)for(t=C=h.b1,j=h.b2;C<=j;t=C+=1)l+=e[S(a,s,t)]||0;p+=l,m[s]=p}else for(t=y=h.b1,k=h.b2;y<=k;t=y+=1){for(l=0,a=w=h.r1,z=h.r2;w<=z;a=w+=1)for(s=_=h.g1,M=h.g2;_<=M;s=_+=1)l+=e[S(a,s,t)]||0;p+=l,m[t]=p}return m.forEach(function(e,t){return d[t]=p-e}),n=function(e){var t,o,n,s,i,r,a,c,l,u,g;for(r=e+"2",a=u=h[i=e+"1"],g=h[r];u<=g;a=u+=1)if(m[a]>p/2){for(t=h.copy(),o=h.copy(),s=(c=a-h[i])<=(l=h[r]-a)?Math.min(h[r]-1,~~(a+l/2)):Math.max(h[i],~~(a-1-c/2));!m[s];)s++;for(n=d[s];!n&&m[s-1];)n=d[--s];return t[r]=s,o[i]=t[r]+1,[t,o]}},r===c?n("r"):r===i?n("g"):r===o?n("b"):void 0}},v.prototype.quantize=function(e,t){var a,o,c,n,s,i,l=this;if(!e.length||t<2||256<t)return console.log("invalid arguments"),!1;for(c=g(e),a=u(e,c),(s=new PriorityQueue(function(e,t){var o,n;return o=e.count(),(n=t.count())<o?1:o<n?-1:0})).push(a),(n=function(e,t){var o,n,s,i,r;for(i=1,r=0;r<l.maxIterations;)if((a=e.pop()).count()){if(o=(s=h(c,a))[0],n=s[1],!o)return void console.log("cbox1 not defined; shouldn't happen");if(e.push(o),n&&(e.push(n),i++),t<=i)return;if(r++>l.maxIterations)return void console.log("infinite loop; perhaps too few pixels")}else e.push(a),r++})(s,this.fractByPopulations*t),i=new PriorityQueue(function(e,t){var o,n;return o=e.count()*e.volume(),(n=t.count()*t.volume())<o?1:o<n?-1:0});s.size();)i.push(s.pop());for(n(i,t-i.size()),o=new r;i.size();)o.push(i.pop());return o},v}.call(this),function(){window.ColorExtract=function(){function f(){}return f.getColorMap=function(e,t,o,n,s,i){var r,a,c,l,u,g,h,d,m,p;for(null==i&&(i=8),c=e.getContext("2d").getImageData(t,o,n,s).data,l=[],g=h=o,m=o+s;h<m;g=h+=1)for(a=g*n*4,u=d=t,p=t+n;d<p;u=d+=1)r=a+4*u,l.push([c[r],c[r+1],c[r+2]]);return(new MMCQ).quantize(l,i)},f.colorDist=function(e,t){var o;return(o=function(e){return e*e})(e[0]-t[0])+o(e[1]-t[1])+o(e[2]-t[2])},f.extract=function(e,t,o){var n,s,i,r,a,c,l,u,g,h,d,m,p;for(t.width=25,t.height=25,t.getContext("2d").drawImage(e,0,0,t.width,t.height),(s=f.getColorMap(t,0,0,t.width,t.height,4).cboxes.map(function(e){return{count:e.cbox.count(),rgb:e.color}})).sort(function(e,t){return t.count-e.count}),n=s[0].rgb,(l=f.getColorMap(t,0,0,e.width,e.height,10).cboxes.map(function(e){return{count:e.cbox.count(),rgb:e.color}})).sort(function(e,t){return t.count-e.count}),h=u=0,m=l.length;h<m;h++)i=l[h],u<(r=f.colorDist(n,i.rgb))&&(u=r,a=i.rgb);for(d=u=0,p=l.length;d<p;d++)i=l[d],u<(r=f.colorDist(n,i.rgb))&&i.rgb!==a&&(u=r,c=i.rgb);return o({bgColor:(g=function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"})(n),fgColor:g(a),fgColor2:g(c)})},f}()}.call(this),function(g){var e,t=function(){return g("html").hasClass("editmode")},h=function(e,t){.5<=t?g(e).find("> .js-background-type").addClass("light-background").removeClass("dark-background"):g(e).find("> .js-background-type").addClass("dark-background").removeClass("light-background")},n=function(e,t){return function(o,n){if(o&&n){"string"==typeof o&&(o=o.replace(/rgba?\(/,"").replace(/\)/,"").split(","),g.each(o,function(e,t){o[e]=+t})),"string"==typeof n&&(n=n.replace(/rgba?\(/,"").replace(/\)/,"").split(","),g.each(n,function(e,t){n[e]=+t})),"object"==typeof o&&o.hasOwnProperty("length")&&3==o.length&&o.push(1),"object"==typeof n&&n.hasOwnProperty("length")&&3==n.length&&n.push(1);var e=[0,0,0,0];return e[3]=1-(1-n[3])*(1-o[3]),0===e[3]&&(e[3]=1e-6),e[0]=Math.min(n[0]*n[3]/e[3]+o[0]*o[3]*(1-n[3])/e[3],255),e[1]=Math.min(n[1]*n[3]/e[3]+o[1]*o[3]*(1-n[3])/e[3],255),e[2]=Math.min(n[2]*n[3]/e[3]+o[2]*o[3]*(1-n[3])/e[3],255),g.map(e,function(e){return Math.floor(e)})}}(e||[255,255,255,1],t||[255,255,255,1])},d=function(e,t){var o=n(e,t);return Math.round((.2126*+o[0]+.7152*+o[1]+.0722*+o[2])/2.55)/100},o=function(e,t){e.focus(function(){g(window).keyup(function(e){9==(e.keyCode?e.keyCode:e.which)&&t()})})},a=function(e,t){var o=g(e);g(t).css({top:"40px",right:Math.round(g(window).width()-o.offset().left-o.outerWidth())})},s=(new LazyLoad({threshold:500,elements_selector:".js-lazyload",callback_loaded:function(e){g(e).closest(".js-content-item-box").removeClass("not-loaded with-error").addClass("is-loaded")}}),function(){var n,s,i,r;g(window).resize((n=function(){c(),g("html").hasClass("menu-language-popover-open")&&a(".js-toggle-menu-language",".js-menu-language-popover")},s=25,function(){var e=this,t=arguments,o=i&&!r;clearTimeout(r),r=setTimeout(function(){r=null,i||n.apply(e,t)},s),o&&n.apply(e,t)}))}),c=function(){g(".header_bottom").css("top",g(".header_fixed").innerHeight()+60)};window.site=g.extend(window.site||{},{bgPickerPreview:function(t,e,o){var n=g(t).css("background-image"),s=e.imageSizes?function(e,t){for(var o,n=0,s=e.length;n<s;n++){if(e[n].width<t)return o||e[n];o=e[n]}return e[e.length-1]}(e.imageSizes,g(window).width()):null,i=e.image&&""!==e.image?"url("+s.url+")":"none",r=e.imageSizes&&""!==e.imageSizes?e.imageSizes:null,a=e.color&&""!==e.color?e.color:"rgba(0,0,0,0)",c=(e.colorData&&""!==e.colorData&&e.colorData.lightness,g("<img>")),l=g("<canvas>"),u=e.image&&""!==e.image?e.image:null;u?function(e,t){for(var o=e.length;o--;)if(-1<t.indexOf(e[o].url.trim()))return!0;return!1}(r,n)?(o.imageColor=o.imageColor?o.imageColor:defaultImageColor,o.combinedLightness=d(o.imageColor,a),h(t,o.combinedLightness)):(c.attr("src",u.replace(/.*\/(photos|voogstock)/g,"/photos")),c.on("load",function(){ColorExtract.extract(c[0],l[0],function(e){o.imageColor=e.bgColor?e.bgColor:"rgba(255,255,255,1)",o.combinedLightness=d(o.imageColor,a),h(t,o.combinedLightness)})})):(o.imageColor="rgba(255,255,255,1)",o.combinedLightness=d(o.imageColor,a),h(t,o.combinedLightness)),g(t).find(".js-background-image").first().css({"background-image":i}),g(t).find(".js-background-color").first().css({"background-color":a})},bgPickerCommit:function(e,t,o,n){var s,i=g.extend(!0,{},t);i.image=t.image||"",i.imageSizes=null==(s=t.imageSizes)||"string"==typeof s&&s.match(/^[\\'"]+$/)?"":s,i.color=t.color||"",i.combinedLightness=o.combinedLightness,"articlePage"===n?Edicy.articles.currentArticle.setData(e,i):pageData.set(e,i)},bgPickerColorScheme:function(e){void 0!==e&&(.6<e?g(".header-wrapper").addClass("light").removeClass("dark"):g(".header-wrapper").addClass("dark").removeClass("light"))},initFrontPage:function(){optionalContent=g(".js-content-optional"),g.each(g(optionalContent),function(){optionalContentLength=g(this).text().trim().length,0<!optionalContentLength&&g(this).remove()})},initCommonPage:function(){},initBlogPage:function(){},initPostPage:function(){},bindContentItemImgDropAreas:function(a){g(".js-content-item-img-drop-area").each(function(e,t){var o=g(t),n=o.closest(".js-content-item-box"),s=n.data("item-id"),i=n.data("item-type"),r=new Edicy.CustomData({type:i,id:s});new Edicy.ImgDropArea(o,{positionable:!1,target_width:1280,placeholder:'<div class="edy-img-drop-area-placeholder">'+a+"</div>",removeBtn:'<div class="edy-img-drop-area-remove-image"><div class="edy-img-drop-area-remove-image-ico"><svg width="16" height="20" viewBox="0 0 26 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="currentColor"><g transform="translate(2 5)"><path d="M0 .997h2V21c0 1 1 2 2 2h14c1 0 2-1 2-2V1h2v20c0 2.25-1.75 4-4 4H4c-2.25 0-4-1.75-4-4V.997z"/><rect x="10" y="4" width="2" height="16" rx="1"/><rect x="5" y="4" width="2" height="16" rx="1"/><rect x="15" y="4" width="2" height="16" rx="1"/></g><path d="M26 4v2H0V4h7V2c0-1 1-2 2-2h8c1 0 2 1 2 2v2h7zM9 4h8V3c0-.5-.5-1-1-1h-6c-.5 0-1 .5-1 1v1z"/></g></svg></div></div>',change:function(e){var t=n.find(".js-toggle-crop-state");o.removeClass("is-cropped").addClass("not-cropped").css("opacity",.1),e?(e.original_id,r.set("item_image",e),n.removeClass("without-image is-loaded with-error").addClass("with-image not-loaded"),t.removeClass("is-hidden").addClass("is-visible")):(n.removeClass("with-image is-loaded with-error").addClass("without-image not-loaded"),t.addClass("is-hidden").removeClass("is-visible"),n.find(".edy-img-drop-area-placeholder").css("opacity",0)),r.set("image_crop_state","not-cropped"),n.removeClass("not-loaded with-error").addClass("is-loaded"),n.find(".edy-img-drop-area-placeholder").css("opacity",1),o.css("opacity",1)}})})},bindContentItemImageCropToggle:function(){g(".js-toggle-crop-state").on("click",function(){var e,t=g(this).closest(".js-content-item-box"),o=t.find(".js-content-item-img-drop-area"),n=t.data("item-id"),s=t.data("item-type"),i=new Edicy.CustomData({type:s,id:n});e=o.hasClass("is-cropped")?(o.removeClass("is-cropped").addClass("not-cropped"),"not-cropped"):(o.removeClass("not-cropped").addClass("is-cropped"),"is-cropped"),i.set("image_crop_state",e)})},bindSiteSearch:function(e,t,o){e&&new VoogSearch(e,{per_page:10,lang:t,resultsContainer:g(".js-voog-search-modal").get(0),sideclick:!0,mobileModeWidth:640,updateOnKeypress:!0,noResults:o})},bindLanguageMenuSettings:function(o){"type"in o||(o.type="popover"),"item_state"in o||(o.item_state="names_only"),g(".js-menu-language-settings-toggle").each(function(e,t){new Edicy.SettingsEditor(t,{menuItems:[{titleI18n:"show",type:"radio",key:"item_state",list:[{titleI18n:"flags_only",value:"flags_only"},{titleI18n:"names_only",value:"names_only"}]}],buttonTitleI18n:"settings",values:o,containerClass:["js-menu-language-settings-popover","js-prevent-sideclick"],preview:function(e){var t=g("html");g(".js-menu-language-settings"),"flags_only"===e.item_state?(t.removeClass("language-flags-disabled"),t.removeClass("language-names-enabled"),t.addClass("language-flags-enabled"),t.addClass("language-names-disabled")):"names_only"===e.item_state&&(t.removeClass("language-flags-enabled"),t.removeClass("language-names-disabled"),t.addClass("language-flags-disabled"),t.addClass("language-names-enabled")),a(".js-toggle-menu-language",".js-menu-language-popover"),this.setPosition()},commit:function(e){siteData.set("settings_language_menu",e)}})})}}),g(".container, .bg_img-cover, .content_wrap, .header_fixed, swiper-container").on("mousedown",function(e){g(e.target).closest(".js-prevent-sideclick").length||(g(".js-semimodal-toggle").removeClass("semimodal-open"),g(".js-popover").removeClass("expanded"),g("html").removeClass("search-open"),g(".js-search, .menu_popover").removeClass("active"),g(".search-btn").removeClass("open"),g("html").removeClass("menu-language-popover-open"),g("body").removeClass("layout_settings-visible"))}),g("body").click(function(e){g(e.target).closest(".layout_settings-btn, .edy-settings-editor, .layout_settings-btn--container").length||g("body").removeClass("layout_settings-visible")}),g(".menu-lang").find(".menu").change(function(){window.location=g(this).find(":selected").val()}),function(){g(".js-search").hasClass("active")&&(g(".js-search").removeClass("active"),g(".search-btn").removeClass("open")),g(".js-layout_settings-btn").click(function(){g("body").toggleClass("layout_settings-visible")});var e=function(){g("html").removeClass("mobilemenu-open"),g(".js-search").toggleClass("active"),g(".js-search").hasClass("active")&&g(".js-search-input").focus(),g("html").toggleClass("search-open"),g("html").removeClass("menu-language-popover-open")},t=function(){g(".menu_popover").toggleClass("active")};g(".js-menu-popover").click(function(){t()}),o(g(".js-menu-popover"),t),o(g(".js-search-toggle-btn"),e),g(".js-search-toggle-btn").click(function(){e()}),g(".js-search-input").on("input",function(){var e=g(this).parent().next();1<g(this).val().length?e.addClass("active"):e.removeClass("active")}),g(".js-search-reset-btn").click(function(){g("html").removeClass("search-open"),g(".js-search").removeClass("active")})}(),g(".js-menu-btn, .js-close-menu").click(function(){g(".js-semimodal-toggle").toggleClass("semimodal-open")}),g(document).ready(function(){g(".comment_form").hasClass("form_with_errors")?g("html, body").scrollTop(g(".comment_form").offset().top):0<g("form").find(".form_error, .form_notice").length&&g("html, body").scrollTop(g(".form_error, .form_notice").closest("form").offset().top)}),s(),window.addEventListener("scroll",function(e){var t=g(".header_fixed").height();window.scrollY>t?g(".header_fixed").addClass("scroll"):g(".header_fixed").removeClass("scroll")}),c(),e=function(){var e=g("html");e.toggleClass("menu-language-popover-open"),e.hasClass("menu-main-opened")||e.hasClass("site-search-opened")?(e.removeClass("menu-main-opened site-search-opened"),setTimeout(function(){a(".js-toggle-menu-language",".js-menu-language-popover")},300)):e.hasClass("menu-language-popover-open")&&a(".js-toggle-menu-language",".js-menu-language-popover")},t()?g(".js-toggle-menu-language .menu-language-btn").click(function(){e()}):"ontouchstart"in document.documentElement?(o(g(".js-toggle-menu-language"),e),g(".js-toggle-menu-language .menu-language-btn").click(function(){e()})):g(".js-toggle-menu-language").hover(function(){e()}),g(document).ready(function(){g(".js-layout_settings-btn").css({opacity:"1",transform:"scale(1)"})}),g(window).resize(function(){}),g(document).on("voog:shoppingcart:button:created",function(){var e;(e=document.createElement("div")).classList.add("edy-ecommerce-custom-ico"),e.innerHTML='<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill="#000" fill-rule="evenodd"><path d="m18.1446 11.8439-.6974 4.1848c-.0008.0049-.0017.0097-.0026.0145-.0988.5434-.6193.9038-1.1627.805l-11.36887-2.0671c-.37461-.0681-.67804-.343-.78264-.7091l-1.82479-6.3868c-.02553-.08934-.03848-.1818-.03848-.27472 0-.55228.44772-1 1-1h13.72588l.6132-2.62795c.1246-.53401.6007-.9118 1.149-.9118h2.0649c.6516 0 1.1799.52826 1.1799 1.17992 0 .65165-.5283 1.17991-1.1799 1.17991h-1.1286z"/><path d="m6.5 21c-.82843 0-1.5-.6716-1.5-1.5s.67157-1.5 1.5-1.5 1.5.6716 1.5 1.5-.67157 1.5-1.5 1.5zm9 0c-.8284 0-1.5-.6716-1.5-1.5s.6716-1.5 1.5-1.5 1.5.6716 1.5 1.5-.6716 1.5-1.5 1.5z" opacity=".2"/></g></svg>',g(".cart_btn-container").append(g(".edy-ecommerce-shopping-cart-button").append(e))}),t()?(window.edy=window.edy||[],edy.push(["texteditorStyles",{name:"Button",tagname:"a",attribute:{href:"#"},classname:"custom-btn",toggle:!0}])):g(".content-formatted table").wrap('<div class="table-container"></div>')}(jQuery);